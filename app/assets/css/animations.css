@layer utilities {
  /* Perspective Utility */
  .perspective-2000 {
    perspective: 2000px;
  }

  /* Animation Utilities */
  .animate-scaleIn {
    animation: scaleIn 200ms ease;
  }
  .animate-scaleOut {
    animation: scaleOut 200ms ease;
  }
  .animate-fadeIn {
    animation: fadeIn 200ms ease;
  }
  .animate-fadeOut {
    animation: fadeOut 200ms ease;
  }
  .animate-enterFromLeft {
    animation: enterFromLeft 250ms ease;
  }
  .animate-enterFromRight {
    animation: enterFromRight 250ms ease;
  }
  .animate-exitToLeft {
    animation: exitToLeft 250ms ease;
  }
  .animate-exitToRight {
    animation: exitToRight 250ms ease;
  }
}

@utility animate-fadeIn {
  animation: fadeIn 200ms ease;
}
@utility animate-fadeOut {
  animation: fadeOut 200ms ease;
}

@utility animate-enterFade {
  animation: fadeIn 1500ms ease;
}

@utility animate-enterFromLeft {
  animation: enterFromLeft 1000ms ease;
}
@utility animate-enterFromRight {
  animation: enterFromRight 1000ms ease;
}

/* Keyframes Definitions */
@keyframes enterFromRight {
  from {
    opacity: 0;
    transform: translateX(200px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes enterFromLeft {
  from {
    opacity: 0;
    transform: translateX(-200px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes exitToRight {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(200px);
  }
}

@keyframes exitToLeft {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(-200px);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: rotateX(-10deg) scale(0.9);
  }
  to {
    opacity: 1;
    transform: rotateX(0deg) scale(1);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: rotateX(0deg) scale(1);
  }
  to {
    opacity: 0;
    transform: rotateX(-10deg) scale(0.95);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Card animations for search filtering */
.card-enter-active,
.card-leave-active {
  transition: all 0.3s ease;
  will-change: opacity, transform;
}

.card-enter-from {
  opacity: 0;
  transform: scale(0.9) translate3d(0, -10px, 0);
}

.card-leave-to {
  opacity: 0;
  transform: scale(0.9) translate3d(0, 10px, 0);
}

.card-move {
  transition: transform 0.4s ease;
}

@keyframes bottomToTop {
  from {
    opacity: 0;
    transform: translateY(40%);
  }
  to {
    opacity: 1;
  }
}

@keyframes bottomToTopFrom20 {
  from {
    opacity: 0;
    transform: translateY(20%);
  }
  to {
    opacity: 1;
  }
}

@keyframes blurEntrance {
  from {
    opacity: 1;
    backdrop-filter: blur(0px);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(12px);
  }
}

@keyframes vertical-bounce {
  0% {
    transform: translate3d(0, 50%, 0) scaleY(0.7);
  }
  25% {
    transform: translate3d(0, 0, 0) scaleY(1);
  }
  50% {
    transform: translate3d(0, 0, 0) scaleY(1);
  }
  75% {
    transform: translate3d(0, 50%, 0) scaleY(0.7);
  }
  100% {
    transform: translate3d(0, 50%, 0) scaleY(0.7);
  }
}

@media (min-width: theme(--breakpoint-md)) {
  @keyframes vertical-bounce {
    0% {
      transform: translate3d(0, 70%, 0) scaleY(0.7);
    }
    25% {
      transform: translate3d(0, 0, 0) scaleY(1);
    }
    50% {
      transform: translate3d(0, 0, 0) scaleY(1);
    }
    75% {
      transform: translate3d(0, 70%, 0) scaleY(0.7);
    }
    100% {
      transform: translate3d(0, 70%, 0) scaleY(0.7);
    }
  }
}

@layer utilities {
  .animate-from-bottom {
    --stagger-delay: 150ms;
  }

  .animate-from-bottom > * {
    animation: bottomToTop 600ms ease-in-out forwards;
    opacity: 0;
    animation-delay: calc(var(--stagger-delay) * var(--i, 0));
    will-change: transform, opacity;
  }

  .animate-from-bottom-20 > * {
    animation: bottomToTopFrom20 600ms ease-in-out forwards;
    opacity: 0;
    animation-delay: calc(var(--stagger-delay) * var(--i, 0));
    will-change: transform, opacity;
  }

  .animate-blur-entrance {
    animation: blurEntrance 1s ease-in-out forwards;
    opacity: 0;
    will-change: opacity, backdrop-filter;
  }

  .animate-vertical-bounce {
    animation: vertical-bounce 2.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)
      infinite;
    will-change: transform;
  }

  .video-background {
    position: relative;
    overflow: hidden;
    width: 100vw;
    height: 100vh;
  }

  .video-background video {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100vw;
    height: 100vh;
    transform: translate(-50%, -50%);
  }

  @media (min-aspect-ratio: 16/9) {
    .video-background iframe {
      /* height = 100 * (9 / 16) = 56.25 */
      height: 56.25vw;
    }
  }
  @media (max-aspect-ratio: 16/9) {
    .video-background iframe {
      /* width = 100 / (9 / 16) = 177.777777 */
      width: 177.78vh;
    }
  }
}
